/*
 * Copyright 2024 Hounjoung Rim <hounjoung@tsnlab.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */

#include <mem.h>
#include <arm/armv7-r.dtsi>
#include <zephyr/dt-bindings/interrupt-controller/arm-gic.h>

/ {
	soc {
#if 0
		pinctrl: pinctrl@ff180000 {
			reg = <0xff180000 0xc80>;
			compatible = "xlnx,pinctrl-zynqmp";
		};
#endif

		flash0: flash@20000000 {
			compatible = "soc-nv-flash";
			reg = <0x20000000 DT_SIZE_M(2)>;
		};

		sram0: memory@0 {
			compatible = "mmio-sram";
			reg = <0x0 0x80000>;
		};

		sram1: memory@1000000 {
			compatible = "mmio-sram";
			reg = <0x01000000 0x400000>;
		};

		uart0: uart@a0200000 {
			compatible = "tcc,tccvcp-uart";
			reg = <0xa0200000 0x4c>;
			status = "disabled";
			interrupts = <GIC_SPI 16 IRQ_TYPE_LEVEL
						IRQ_DEFAULT_PRIORITY>;
			interrupt-names = "irq_16";
		};

		uart1: uart@a0210000 {
			compatible = "tcc,tccvcp-uart";
			reg = <0xa0210000 0x4c>;
			status = "disabled";
			interrupts = <GIC_SPI 17 IRQ_TYPE_LEVEL
						IRQ_DEFAULT_PRIORITY>;
			interrupt-names = "irq_17";
		};

		ttc0: timer@a0f2a000 {
			compatible = "tcc,ttcvcp";
			status = "disabled";
			interrupts = <GIC_PPI 56 IRQ_TYPE_LEVEL
						IRQ_DEFAULT_PRIORITY>;
			interrupt-names = "irq_56";
			reg = <0xa0f2a000 0x20>;
		};

		ttc1: timer@a0f2a100 {
			compatible = "tcc,ttcvcp";
			status = "disabled";
			interrupts = <GIC_PPI 57 IRQ_TYPE_LEVEL
						IRQ_DEFAULT_PRIORITY>;
			interrupt-names = "irq_57";
			reg = <0xa0f2a100 0x20>;
		};

		gpioa@a0f22000 {
			compatible = "simple-bus";
			reg = <0xa0f22000 0x40>;

			#address-cells = <1>;
			#size-cells = <0>;

			gpio-controller;
			#gpio-cells = <1>;
			interrupt-controller;
			#interrupt-cells = <1>;
			source-num = <1 0 1 31>;
			label = "gpioa";
//			gpio-ranges = <&pinctrl 0 0 32>;
			gio_aon: gpio@0 {
				compatible = "tcc,tccvcp-gpio";
				reg = <0>;
				gpio-controller;
				#gpio-cells = <2>;
				ngpios = <31>;
				status = "ok";
			};
		};

	};
};
